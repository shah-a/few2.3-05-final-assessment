import{j as u,a as m,r as d,R as f,b as p}from"./vendor.30bc6e54.js";const v=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}};v();const e=u.exports.jsx,o=u.exports.jsxs;function y(){return e("div",{className:"Home",children:o("div",{className:"container",children:[e("h1",{children:"FEW 2.3: Final Assessment"}),e("h2",{children:"Ali Shah"})]})})}const w=async t=>{const n=await fetch(t);return n.ok?[await n.json(),null]:[null,new Error(n.statusText)]},g=async t=>{const n=await fetch(`https://swapi.dev/api/people/${t}`);if(!n.ok)return[null,new Error(n.statusText)];const s=await n.json(),[a,r]=await w(s.homeworld);if(r)return[null,new Error(r)];const i=await Promise.all(s.films.map(c=>fetch(c))),l=await Promise.all(i.map(c=>c.json()));return s.homeworld=a,s.films=l,[s,null]};function x({id:t,setId:n,setData:s,setLoading:a}){return e("div",{className:"Form",children:o("form",{onSubmit:async r=>{if(r.preventDefault(),a(!0),t===17)return a(!1),alert("17 is invalid. Sorry!");const[i,l]=await g(t);return l?(a(!1),alert(l)):(a(!1),s(i))},children:[e("h3",{children:"Enter SWAPI Character ID:"}),o("div",{className:"input",children:[e("input",{type:"number",min:"1",max:"83",value:t||1,onChange:r=>n(parseInt(r.target.value,10)||1)}),e("button",{type:"submit",children:"Submit"})]})]})})}function h({data:t}){return o("div",{className:"Details",children:[e("p",{children:`Height: ${t.height}`}),e("p",{children:`Mass: ${t.mass}`}),e("p",{children:`Hair Colour: ${t.hair_color}`}),e("p",{children:`Eye Colour: ${t.eye_color}`}),e("p",{children:`Homeworld: ${t.homeworld.name}`}),e("p",{children:"Appears in:"}),e("ul",{children:t.films.map(n=>e("li",{children:`${n.title}`},n.title))})]})}function S({list:t,setList:n,data:s}){return o("div",{className:"Display",children:[e("h1",{children:s.name}),e(h,{data:s}),e("button",{type:"button",onClick:()=>{const a=m.uniqBy([...t,s],"name");n(a)},children:"Save"})]})}function $({list:t}){const n=t.map(s=>o("div",{children:[e("h1",{children:s.name}),e(h,{data:s})]},s.name));return o("div",{className:"List",children:[t.length>0&&e("h3",{children:"Character List"}),e("div",{className:"card",children:n})]})}var b="./assets/three-dots.b9e1e2b0.svg";function L(){return o("div",{className:"Loader",children:[e("h1",{children:"Loading"}),e("img",{src:b,alt:"",width:"75"})]})}function N(){const[t,n]=d.exports.useState(1),[s,a]=d.exports.useState([]),[r,i]=d.exports.useState(null),[l,c]=d.exports.useState(!1);return o("div",{className:"StarWars container",children:[o("section",{children:[e(x,{id:t,setId:n,setData:i,setLoading:c}),l?e(L,{}):r&&e(S,{list:s,setList:a,data:r})]}),e("section",{children:e($,{list:s})})]})}function D(){return o("div",{className:"App",children:[e(y,{}),e(N,{})]})}f.render(e(p.StrictMode,{children:e(D,{})}),document.getElementById("root"));
